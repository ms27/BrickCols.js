var BrickCols={init:function(){function t(t,e){var r,i=getComputedStyle(t);switch(e){case"width":r=t.offsetWidth,r+=parseInt(i.marginLeft)+parseInt(i.marginRight);break;case"height":r=t.offsetHeight,r+=Math.max(parseInt(i.marginTop),parseInt(i.marginBottom))}return r}this._name="BrickCols",this._description="Cascading grid layout without absolute positioning. You don't need to use any JS code to set stylesheet properties.",this._version="2.1.0",this._autor="Magomedov Said",this.auto_prioritize=function(t,e){[t].forEach(function(t){var r=1;Array.prototype.slice.call(t.querySelectorAll(e)).forEach(function(i){var o=i.getAttribute("data-priority"),a=parseInt(o);if(a&&a==o)return!1;for(;t.querySelectorAll(e+'[data-priority="'+r+'"]').length;)r++;i.setAttribute("data-priority",r)})})},this.layout_optimization=function(e,r,i,o){var a=this;Array.prototype.slice.call(document.querySelectorAll(e)).forEach(function(e){for(var c=e.querySelectorAll(r),l=e.querySelectorAll(i),s=parseInt(e.offsetWidth/t(c[0],"width")),n=[],u=0;s>u;u++)n[u]=0;for(var u=c.length;s>u;u++){var h=c[0].cloneNode(!0);h.innerHTML="",e.appendChild(h)}a.auto_prioritize(e,i);for(var f=l.length,p=1,d=527;f>0;)l=Array.prototype.slice.call(e.querySelectorAll(i+'[data-priority="'+p+'"]')),l.length?l.forEach(function(t){for(var i=n[0],o=0,a=1;s>a;a++)n[a]<i&&(i=n[a],o=a);n[o]+=t.offsetHeight;var c=e.querySelector(r+":nth-child("+ ++o+")");c.appendChild(t),d=527,--f}):--d||(f=0,o&&o("Разница между индексами приоритетов больше 200")),p++}),o&&o()}}},BrickCols=new BrickCols.init;
