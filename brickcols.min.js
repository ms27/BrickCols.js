var BrickCols={init:function(){function t(t,e){var r,i=getComputedStyle(t);switch(e){case"width":r=t.offsetWidth,r+=parseInt(i.marginLeft)+parseInt(i.marginRight);break;case"height":r=t.offsetHeight,r+=parseInt(i.marginTop)+parseInt(i.marginBottom)}return r}this._name="BrickCols",this._description="Cascading grid layout without absolute positioning. You don't need to use any JS code to set stylesheet properties.",this._version="1.1.0",this._autor="Magomedov Said",this.auto_prioritize=function(t,e){[t].forEach(function(t){var r=1;t.querySelectorAll(e+":not([data-priority])").forEach(function(i){for(;t.querySelectorAll(e+'[data-priority="'+r+'"]').length;)r++;i.setAttribute("data-priority",r)})})},this.layout_optimization=function(e,r,i,o){var n=this;document.querySelectorAll(e).forEach(function(e){var o=e.querySelectorAll(r),a=e.querySelectorAll(i);e.querySelectorAll(i+":not([data-priority])").length&&n.auto_prioritize(e,i);for(var l=parseInt(e.offsetWidth/t(o[0],"width")),c=[],h=0;l>h;h++)c[h]=0;for(var h=o.length;l>h;h++){var s=o[0].cloneNode(!0);s.innerHTML="",e.appendChild(s)}for(var u=a.length,d=1;u>0;)a=e.querySelectorAll(i+'[data-priority="'+d+'"]'),a.length&&[a].forEach(function(i){for(var o=c[0],n=0,a=1;l>a;a++)c[a]<o&&(o=c[a],n=a);c[n]+=t(i[0],"height");var h=e.querySelector(r+":nth-child("+ ++n+")");h.appendChild(i[0]),u-=1}),d++}),o&&o()}}},BrickCols=new BrickCols.init;
